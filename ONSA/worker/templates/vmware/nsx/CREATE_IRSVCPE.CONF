{% if create_params is defined %}
<edge>
  <datacenterMoid>{{ create_params.datacenterMoid }}</datacenterMoid>
  <name>{{ name }}</name>
  <description>{{ create_params.description }}</description>
  <appliances>
    <applianceSize>{{ create_params.appliances.applianceSize }}</applianceSize>
    <appliance>
      <resourcePoolId>{{ create_params.appliances.appliance.resourcePoolId }}</resourcePoolId>
      <datastoreId>{{ create_params.appliances.appliance.datastoreId }}</datastoreId>
    </appliance>
  </appliances>
  <vnics>
    {% for vnic in create_params.vnics %}
    <vnic>
      <index>{{ vnic.index }}</index>
      <name>{{ vnic.name }}</name>
      <type>{{ vnic.type }}</type>
      <portgroupId>{{ vnic.portgroupId }}</portgroupId>
      <addressGroups>
        <addressGroup>
          <primaryAddress>{{ vnic.primaryAddress }}</primaryAddress>
          <subnetMask>{{ vnic.subnetMask }}</subnetMask>
        </addressGroup>
      </addressGroups>
      <mtu>{{ vnic.mtu }}</mtu>
      <isConnected>{{ vnic.isConnected }}</isConnected>
    </vnic>
    {% endfor %}
  </vnics>
  <cliSettings>    
    <userName>{{ create_params.cliSettings.userName }}</userName>
    <password>{{ create_params.cliSettings.password }}</password>
    <remoteAccess>{{ create_params.cliSettings.remoteAccess }}</remoteAccess>
  </cliSettings>
</edge>
{% endif %}


{% if gateway_params is defined  %}
{
  "defaultRoute": 
  {
    "description": "{{ gateway_params.description }}",
    "vnic": "{{ gateway_params.vnic }}",
    "gatewayAddress": "{{ gateway_params.gatewayAddress }}",
    "mtu": "{{ gateway_params.mtu }}"  
  }
}
{% endif %}